<form [formGroup]="blogForm" (ngSubmit)="onSubmit()" class="container">
    <div class="form-group">
        <label for="title">Title</label>
        <input type="text" class="form-control" id="title" formControlName="title">
        <div *ngIf="submitted && blogForm.get('title')?.errors" class="invalid-feedback">Title is required</div>
    </div>

    <div class="form-group">
        <label for="des">Description</label>
        <input type="text" class="form-control" id="des" formControlName="des">
        <div *ngIf="submitted && blogForm.get('des')?.errors" class="invalid-feedback">Description is required</div>
    </div>

    <div class="form-group">
        <label for="banner">Banner</label>
        <input type="file" class="form-control-file" id="banner" formControlName="banner" accept="image/*">
        <div *ngIf="submitted && blogForm.get('banner')?.errors" class="invalid-feedback">Banner is required</div>
    </div>    

    <div formArrayName="content">
        <div *ngFor="let block of blocksArray; let i = index" [formGroupName]="i">
            <div class="form-group">
                <label for="type{{i}}">Type</label>
                <input type="text" class="form-control" id="type{{i}}" formControlName="type">
                <div *ngIf="submitted && block.get('type')?.errors" class="invalid-feedback">Type is required</div>
            </div>
            <div class="form-group">
                <label for="text{{i}}">Text</label>
                <textarea class="form-control" id="text{{i}}" formControlName="text"></textarea>
                <div *ngIf="submitted && block.get('text')?.errors" class="invalid-feedback">Text is required</div>
            </div>
        </div>
    </div>

    <div formArrayName="tags">
        <div *ngFor="let tag of tagsArray; let i = index">
            <div class="form-group">
                <label for="tag{{i}}">Tag {{i + 1}}</label>
                <input type="text" class="form-control" id="tag{{i}}" formControlName="{{i}}">
                <button type="button" class="btn btn-danger" (click)="removeTag(i)">Remove Tag</button>
            </div>
        </div>
    </div>
    
    <button type="button" class="btn btn-primary" (click)="addContentBlock()">Add Content Block</button>
    <button type="button" class="btn btn-primary" (click)="addTag()">Add Tag</button>

    <div class="form-group">
        <label for="draft">Draft</label><br>
        <input type="checkbox" id="draft" formControlName="draft">
    </div>

    <button type="submit" class="btn btn-primary">Submit</button>
</form>
